#{extends '/syrena/templateExercito.html' /}
#{set title:'Home Exército' /}

<div class="magic-layout isotope" style="position: relative; overflow: scroll; height: 1131px;">

    <div class="panel panel-default magic-element isotope-item" style="position: absolute; left: 0px; top: 0px; transform: translate3d(0px, 377px, 0px);">
        <div class="panel-body-heading">
            <h3 class="pb-title">Requisições Pendentes</h3>
        </div>
        <div id="chart-bar" class="chart" style="position: relative;">
            <svg height="300" version="1.1" width="297" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; position: relative; left: -0.40625px;"
            <desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.0</desc>
            <defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></defs>
            <text x="43.5" y="231.985167404" text-anchor="end" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal">
                <tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">0</tspan>
            </text>
            <path fill="none" stroke="#aaaaaa" d="M56,231.985167404H591" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="43.5" y="180.238875553" text-anchor="end" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal">
            <tspan dy="4.004500553000014" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">500</tspan></text><path fill="none" stroke="#aaaaaa" d="M56,180.238875553H591" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="43.5" y="128.492583702" text-anchor="end" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal"><tspan dy="4.00820870199999" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">1,000</tspan></text><path fill="none" stroke="#aaaaaa" d="M56,128.492583702H591" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="43.5" y="76.74629185100002" text-anchor="end" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal"><tspan dy="4.011916851000024" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">1,500</tspan></text><path fill="none" stroke="#aaaaaa" d="M56,76.74629185100002H591" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="43.5" y="25" text-anchor="end" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal"><tspan dy="4" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">2,000</tspan></text><path fill="none" stroke="#aaaaaa" d="M56,25H591" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="546.4166666666667" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-61.4832,377.4069)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone 5</tspan></text><text x="457.25" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-80.8836,328.5633)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone 4S</tspan></text><text x="368.0833333333333" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-93.7335,275.1221)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone 4</tspan></text><text x="278.91666666666663" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-116.8229,228.8506)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone 3GS</tspan></text><text x="189.75" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-129.67,175.4184)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone 3G</tspan></text><text x="100.58333333333334" y="244.485167404" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#34495e" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;" font-size="12px" font-family="sans-serif" font-weight="normal" transform="matrix(0.8192,-0.5736,0.5736,0.8192,-138.0146,118.8225)"><tspan dy="4.000792404000009" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">iPhone</tspan></text><rect x="67.14583333333333" y="217.910176020528" width="66.875" height="14.074991383471996" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="156.31250000000003" y="217.806683436826" width="66.875" height="14.178483967174003" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="245.47916666666669" y="203.52470688595002" width="66.875" height="28.460460518049985" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="334.6458333333333" y="192.65798559724" width="66.875" height="39.327181806759995" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="423.8125" y="164.19752507919003" width="66.875" height="67.78764232480998" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="512.9791666666667" y="69.39831840815802" width="66.875" height="162.586848995842" r="0" rx="0" ry="0" fill="#f39c12" stroke="#000" stroke-width="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect></svg><div class="morris-hover morris-default-style" style="left: 489.417px; top: 122px; display: none;"><div class="morris-hover-row-label">iPhone 5</div><div class="morris-hover-point" style="color: #f39c12">
            Geekbench:
            1,571
        </div></div></div>
    </div><!-- /panel -->
    <div class="panel panel-default magic-element isotope-item" style="position: absolute; left: 0px; top: 0px; transform: translate3d(665px, 377px, 0px);">
        <div class="panel-body-heading">
            <h3 class="pb-title">Tipos de Requisições</h3>
        </div>
        <div id="chart-donut" class="chart"><svg height="300" version="1.1" width="616" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; position: relative; left: -0.28125px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.0</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></defs><path fill="none" stroke="#3498db" d="M308,243.33333333333331A93.33333333333333,93.33333333333333,0,0,0,401.3333330454699,150.00733038285082" stroke-width="2" opacity="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 0;"></path><path fill="#3498db" stroke="#ffffff" d="M308,246.33333333333331A96.33333333333333,96.33333333333333,0,0,0,404.33333303621714,150.00756600229963L442.99999958362605,150.01060287519496A135,135,0,0,1,308,285Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#e74c3c" d="M401.3333330454699,150.00733038285082A93.33333333333333,93.33333333333333,0,0,0,234.3054960170495,92.7266973728771" stroke-width="2" opacity="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 0;"></path><path fill="#e74c3c" stroke="#ffffff" d="M404.33333303621714,150.00756600229963A96.33333333333333,96.33333333333333,0,0,0,231.9367441033118,90.88576978843386L201.40616388180374,67.15825870005436A135,135,0,0,1,442.99999958362605,150.01060287519496Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#2ecc71" d="M234.3054960170495,92.7266973728771A93.33333333333333,93.33333333333333,0,0,0,250.72090959672028,223.69000552099328" stroke-width="2" opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 1;"></path><path fill="#2ecc71" stroke="#ffffff" d="M231.9367441033118,90.88576978843386A96.33333333333333,96.33333333333333,0,0,0,248.87979597661484,226.0586128413109L222.08136439508039,260.5350082814899A140,140,0,0,1,197.45824402557423,64.09004605931564Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#f39c12" d="M250.72090959672028,223.69000552099328A93.33333333333333,93.33333333333333,0,0,0,307.9706784690489,243.333328727518" stroke-width="2" opacity="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 0;"></path><path fill="#f39c12" stroke="#ffffff" d="M248.87979597661484,226.0586128413109A96.33333333333333,96.33333333333333,0,0,0,307.96973599126835,246.3333285794739L307.9575884998743,284.9999933380171A135,135,0,0,1,225.14988709525608,256.58732941429383Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="308" y="140" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" font-weight="800" transform="matrix(2.1212,0,0,2.1212,-345.3333,-169.303)" stroke-width="0.4714285714285715"><tspan dy="6" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Custard</tspan></text><text x="308" y="160" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 14px; line-height: normal; font-family: Arial;" font-size="14px" transform="matrix(1.9444,0,0,1.9444,-290.8889,-143.5556)" stroke-width="0.5142857142857143"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">25%</tspan></text></svg></div>
    </div><!-- /panel -->


</div>

<div id="piechart" style="width: 900px; height: 500px;"></div>

#{set 'moreStyles'}
<style type="text/css" rel="stylesheet">

</style>
#{/set}

#{set 'moreScripts'}
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Tipo', 'Quantidade'],
          ['Aquisições',     ${qtdAquisicoes}],
          ['Renovações',      ${qtdRenovacoes}],
          ['Transferências',  ${qtdTransferencias}],
        ]);

        var options = {
          title: 'Tipos de Requisições'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>
<script src="assets/morris/morris.min.js"></script>

<script type="text/javascript">
    $(function () {
        'use strict';

        // chart bar
        var data_bar = [
            {requisicao: 'Aquisições', quantidade: ${aquisicoesPendentes}},
            {requisicao: 'Renovações', quantidade: ${renovacoesPendentes}},
            {requisicao: 'Transferências', quantidade: ${transferenciasPendentes}},
        ],
        chart_bar = Morris.Bar({
            element: 'chart-bar',
            data: data_bar,
            barColors: ['#048E3D'],
            gridTextColor: '#34495e',
            xkey: 'requisicao',
            ykeys: ['quantidade'],
            labels: ['Pendentes'],
            barRatio: 0.4,
            xLabelAngle: 35,
            hideHover: 'auto'
        });


        // chart donut
        var data_donut = [
            {label: 'Aquisições', value: ${Math.round((qtdAquisicoes / (qtdTransferencias + qtdAquisicoes + qtdRenovacoes)) * 100)} },
            {label: 'Renovações', value: ${Math.round((qtdRenovacoes / (qtdTransferencias + qtdAquisicoes + qtdRenovacoes)) * 100)} },
            {label: 'Transferências', value: ${Math.round((qtdTransferencias / (qtdTransferencias + qtdAquisicoes + qtdRenovacoes)) * 100)} },
        ],
        chart_donut = Morris.Donut({
            element: 'chart-donut',
            data: data_donut,
            colors: ['#3366CC', '#DC3912', '#FF9900'],
            gridTextColor: '#34495e',
            formatter: function (y) { return y + "%"}
        });




        /* this example to use realtime chart with morris
        // realtime update chart
        var nReloads = 0,
        data_realtime = function(offset) {
          var ret = [];
          for (var x = 0; x <= 360; x += 10) {
            var v = (offset + x) % 360;
            ret.push({
                x: x,
                y: Math.sin(Math.PI * v / 180).toFixed(4),
                z: Math.cos(Math.PI * v / 180).toFixed(4)
            });
          }
          return ret;
        },
        chart_realtime = Morris.Line({
            element: 'chart-realtime',
            data: data_realtime(0),
            xkey: 'x',
            ykeys: ['y', 'z'],
            labels: ['sin()', 'cos()'],
            parseTime: false,
            ymin: -1.0,
            ymax: 1.0,
            hideHover: true
        }),
        realtime_update = function() {
            nReloads++;

            chart_realtime.setData(data_realtime(5 * nReloads));
            console.log('Reload status: ' + nReloads + ' reloads');
        };
        setInterval(realtime_update, 800);
        */

        // update data on content or window resize
        var update = function(){
            chart_line.redraw();
            chart_area.redraw();
            chart_bar.redraw();
            chart_donut.redraw();
            chart_other.redraw();
            // chart_realtime.redraw();
        }

        // handle chart responsive on toggle .content
        $(window).on('resize', function(){
            update();
        })
        $('#toggle-aside').on('click', function(){
            // update chart after transition finished
            $("#content").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function(){
                update();
                $(this).unbind();
            });
        })
        $('#toggle-content').on('click', function(){
            update();
        })
    });
    </script>

#{/set}